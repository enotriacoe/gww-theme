// =============================================================================
// CATEGORY - CUSTOM CLASSES FOR GWW
// =============================================================================

.category-header {
  width: 100%;
  position: relative;
  background-color: $stone-xlt;

  @include breakpoint('small') {
    overflow: hidden;
    margin-top: 0.5rem;
  }

  .stylised-title {
    width: 100%;
    text-align: center;
    padding: 1rem;
    font-size: 36px;
    margin-top: 0;

    @include breakpoint('medium') {
      padding-top: 1.5rem;
      font-size: 48px;
    }

    @include breakpoint('large') {
      font-size: 60px;
    }
  }

  h1.stylised-title:has(+ .category-description .content-rich-image-banner),
  h1.stylised-title:has(+ .brand-description .content-rich-image-logo) {
    position: absolute;
  }
}

.category-description:not(:has(.desc-zone-top)) {
  padding: 0 0.75em 1em;
  max-width: 800px;
  margin: 0 auto;
  text-align: center;

  p:last-of-type {
    margin-bottom: 0;
  }

  @include breakpoint('medium') {
    font-size: 1.25em;
  }
}

.category-grid-2,
.category-grid-3,
.category-grid-4,
.category-grid-5,
.category-grid-6,
.category-grid-8 {
  display: grid;
  grid-template-columns: 1fr;
  list-style: none;
  margin: 1em 0;
  gap: 1em;
  padding: 0;
  text-align: center;
  align-items: center;
  line-height: 1;
  a {
    text-decoration: none;
    font-family: $helveticaBold;
  }

  img {
    width: 100%;
    overflow: hidden;
  }

  .image-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(
      0deg,
      rgba(0, 0, 0, 0.5) 0%,
      rgba(0, 0, 0, 0) 20%,
      rgba(0, 0, 0, 0) 50%
    );
    display: flex;
    align-items: flex-end;
    text-align: center;

    .image-overlay-text {
      padding: 0.5em;
      width: 100%;
      filter: drop-shadow(1px 1px 2px #000000);
      color: #fff;
    }
  }
}

.category-grid-6,
.category-grid-8 {
  grid-template-columns: 1fr 1fr;
}

.category-grid-2 {
  @include breakpoint('medium') {
    grid-template-columns: 1fr 1fr;
  }
}
.category-grid-3 {
  @include breakpoint('medium') {
    grid-template-columns: 1fr 1fr;
  }
  @include breakpoint('large') {
    grid-template-columns: 1fr 1fr 1fr;
  }
}
.category-grid-4 {
  @include breakpoint('medium') {
    grid-template-columns: 1fr 1fr;
  }
  @include breakpoint('large') {
    grid-template-columns: 1fr 1fr 1fr 1fr;
  }
}
.category-grid-5 {
  @include breakpoint('small') {
    grid-template-columns: 1fr 1fr;
  }
  @include breakpoint('medium') {
    grid-template-columns: 1fr 1fr 1fr;
  }
  @include breakpoint('large') {
    grid-template-columns: 1fr 1fr 1fr 1fr 1fr;
  }
}
.category-grid-6 {
  @include breakpoint('medium') {
    grid-template-columns: 1fr 1fr 1fr;
  }
  @include breakpoint('large') {
    grid-template-columns: 1fr 1fr 1fr 1fr 1fr 1fr;
  }
}
.category-grid-8 {
  @include breakpoint('medium') {
    grid-template-columns: 1fr 1fr 1fr 1fr;
  }
  @include breakpoint('large') {
    grid-template-columns: 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr;
  }
}

.desc-zone-top,
.desc-zone-bottom {
  background-color: $stone-xlt;
  padding: 0 0.75em 1em;
  clear: both;

  > div {
    max-width: 800px;
    margin: 1em auto 0;

    h2 {
      font-family: $juana;
      @include breakpoint('medium') {
        font-size: 36px;
      }
    }
    h3 {
      font-family: $juana;
      @include breakpoint('medium') {
        font-size: 30px;
      }
    }

    h4 {
      font-family: $helveticaBold;
      @include breakpoint('medium') {
        font-size: 24px;
      }
    }
  }

  > div.content-rich-image-banner,
  > div.content-rich-image-logo {
    max-width: calc(100% + 1.5em);
    margin: 0 -0.75em 0 -0.75em;
  }

  .content-rich-intro {
    font-weight: bold;
    text-align: center;

    @include breakpoint('medium') {
      font-size: 1.25em;
    }
  }

  .content-rich-intro:has(+ .content-rich-body) {
    margin-bottom: 1em;
    text-align: left;
  }

  .img-100 {
    margin: 0 auto 1em;
    display: block;
    width: 100%;
  }

  .img-50 {
    margin: 0 auto 1em;
    display: block;
    width: 100%;

    @include breakpoint('small') {
      width: 50%;
    }
  }

  .img-33 {
    margin: 0 auto 1em;
    display: block;
    width: 100%;

    @include breakpoint('small') {
      width: 50%;
    }

    @include breakpoint('medium') {
      width: 33.333%;
    }
  }

  .img-25 {
    margin: 0 auto 1em;
    display: block;
    width: 100%;

    @include breakpoint('small') {
      width: 50%;
    }

    @include breakpoint('medium') {
      width: 25%;
    }
  }

  [class*='category-grid'],
  div:has(.img-row),
  div:has([class*='category-grid']) {
    max-width: 100%;
  }

  .img-row {
    max-width: 100%;
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    margin-bottom: 1em;
    gap: 1em;

    &.space-between {
      justify-content: space-between;
    }
  }

  .img-full {
    width: 100%;
    position: relative;
  }

  .img-half {
    width: 100%;
    position: relative;

    @include breakpoint('medium') {
      width: calc(50% - 0.5em);
    }
  }

  .img-third {
    width: 100%;
    position: relative;

    @include breakpoint('medium') {
      width: calc(33.333% - 0.666666em);
    }
  }

  .img-quarter {
    width: 100%;
    position: relative;

    @include breakpoint('medium') {
      width: calc(25% - 0.75em);
    }
  }
}

.desc-zone-bottom {
  display: none;

  &:empty {
    display: none;
  }
}
.desc-zone-bottom:has(div) {
  display: block;
  padding-top: 1em;
}
